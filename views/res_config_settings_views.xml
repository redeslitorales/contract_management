<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_inherit_contract_management" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.contract.management</field>
        <field name="model">res.config.settings</field>
        <field name="priority" eval="90"/>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app string="Contract Management" name="contract_management">
                    <block title="DocuSign Settings">
                        <setting>
                            <label for="docusign_service_user_id" string="DocuSign Service User"/>
                            <div class="text-muted">
                                User whose DocuSign tokens are used for contract envelopes (defaults to legacy contratos@cabal.sv).
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="docusign_service_user_id" options="{'no_open': True}"/>
                                </div>
                            </div>
                        </setting>
                        <setting>
                            <label for="docusign_company_signer_email" string="Company Signer Email"/>
                            <div class="text-muted">
                                Email address of the company representative who signs contracts after the customer
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="docusign_company_signer_email" placeholder="contratos@company.com"/>
                                </div>
                            </div>
                        </setting>
                        <setting>
                            <label for="docusign_company_stamp_base64" string="Company Stamp Image"/>
                            <div class="text-muted">
                                Base64-encoded PNG image of company stamp to appear on signed documents
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="docusign_company_stamp_base64" placeholder="iVBORw0KGgoAAAANSUhEUgAA..."/>
                                </div>
                            </div>
                        </setting>
                        <setting>
                            <label for="docusign_embedded_return_url" string="DocuSign Embedded Return URL"/>
                            <div class="text-muted">
                                Optional absolute URL to return users after embedded signing. Leave blank to auto-build.
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="docusign_embedded_return_url" placeholder="https://portal.midominio.com/docusign/return"/>
                                </div>
                            </div>
                        </setting>
                        <setting>
                            <label for="wa_magic_template" string="Magic Link WhatsApp Template"/>
                            <div class="text-muted">
                                Template name used to send DocuSign magic signing links over WhatsApp.
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="wa_magic_template" placeholder="sign_contract"/>
                                </div>
                            </div>
                        </setting>
                    </block>
                    <block title="Cancellation Settings">
                        <setting>
                            <label for="contract_cancellation_email" string="Cancellation Notification Email"/>
                            <div class="text-muted">
                                Email address to receive notifications when customers intend to cancel their contracts
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="contract_cancellation_email" placeholder="cancelaciones@company.com"/>
                                </div>
                            </div>
                        </setting>
                    </block>
                    <block title="Security">
                        <setting>
                            <label for="contract_confirmation_secret" string="Quote Confirmation Secret"/>
                            <div class="text-muted">
                                HMAC secret used to sign public quote confirmation links. Change to rotate links.
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="contract_confirmation_secret" password="True" placeholder="generate a long random string"/>
                                </div>
                            </div>
                        </setting>
                        <setting>
                            <label for="wa_template_quote" string="Quote WhatsApp Template"/>
                            <div class="text-muted">
                                Template name used to send quotes over WhatsApp (legacy provider).
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="wa_template_quote" placeholder="confirmacion_de_orden"/>
                                </div>
                            </div>
                        </setting>
                        <setting>
                            <label for="force_quote_email_only" string="Send Quotes via Email Only"/>
                            <div class="text-muted">
                                Disable WhatsApp delivery for quotations and always send them by email.
                            </div>
                            <div class="content-group">
                                <div class="mt16">
                                    <field name="force_quote_email_only"/>
                                </div>
                            </div>
                        </setting>
                    </block>
                </app>
            </xpath>
        </field>
    </record>
</odoo>
