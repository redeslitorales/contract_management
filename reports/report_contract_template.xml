<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="report_contract_template">
        <t t-call="web.html_container">
			<t t-foreach="docs" t-as="doc">
				<t t-call="web.basic_layout">
                    <!-- Set the language context for the entire report -->
                    <t t-set="lang" t-value="doc.partner_id.lang"/>
                    <t t-with="{'lang': lang}">
                    <!-- CONTAINER -->
					<div class="page" style="font-size: 12px">
					    
					    <t t-set="months" t-value="{                             '1': 'enero',                             '2': 'febrero',                             '3': 'marzo',                             '4': 'abril',                             '5': 'mayo',                             '6': 'junio',                             '7': 'julio',                             '8': 'agosto',                             '9': 'septiembre',                             '10': 'octubre',                             '11': 'noviembre',                             '12': 'diciembre'                         }"/>
					    
					    <t t-set="document_types" t-value="{                             'Factura': 'Factura Consumidor Final',                              'CCF': 'Comprobante de Crédito fiscal',                             'FSUJEx': 'Factura de sujeto excluido'                         }"/>
                        
                        <t t-set="tipo_fact" t-value="document_types.get(doc.partner_id.property_account_position_id.sv_document, '')"/>

                        <div class="row mb-4">
                            <div class="col-3">
                                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" style="max-height: 100px; margin-left: 2mm" alt="Company Logo"/>
                            </div>
                            <div class="col-5"/>
                            <div class="col-4 text-end">
                                <h5>
                                    <strong>Contrato No. </strong>
                                    <span t-esc="doc.cabal_sequence"/>
                                </h5>
                                <h5 class="mt-2">
                                    <strong>Código del cliente </strong>
                                    <span t-esc="doc.id "/>
                                </h5>
                            </div>
                        </div>

                        <!-- Header -->
                        <h5>INFORMACION DEL CLIENTE</h5>

                        <!-- Client Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Detalles del Cliente</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_id.name"/></div>
                                        <t t-if="tipo_fact == 'Factura Consumidor Final'">
                                            <div>DUI: <t t-esc="doc.partner_id.sv_dui"/></div>
                                        </t>
                                        <t t-else="">
                                            <div>NIT: <t t-esc="doc.partner_id.sv_nit"/></div>
                                            <div>NRC: <t t-esc="doc.partner_id.sv_nrc"/></div>
                                        </t>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Dirección de Servicio</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_shipping_id.street"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.country_id.name"/></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Billing Info Header -->
                        <h5>INFORMACION DE FACTURACIÓN</h5>

                        <!-- Billing Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Dirección de Facturación/Cobro</strong>
                                    <div class="mt-2">
                                        <div><t t-esc="doc.partner_invoice_id.street"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.country_id.name"/></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Contacto</strong>
                                    <div class="mt-2">
                                        <div>Correo Electronico: <span class="bg-light p-1"><t t-esc="doc.partner_id.email"/></span></div>
                                        <div>Telefono: <t t-esc="doc.partner_id.phone"/></div>
                                        <div>Whatsapp: <t t-esc="doc.partner_id.whatsapp"/></div>
                                        <div>Telefono movil: <t t-esc="doc.partner_id.mobile"/></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-1">
                                <div class="col-6">
                                    <div class="mt-3">
                                        <strong>Tipo de facturación </strong>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="mt-0">
                                        <span t-esc="tipo_fact"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Authorization Notice -->
                            <div class="mt-4 font-italic">
                                El cliente autoriza la entrega de su factura en formato electrónico por correo electronico, SMS o WhatsApp. Una copia de las condiciones de contratación serán enviadas por este mismo medio.
                            </div>

                        </div>
                        
                        <h5>SERVICIOS CONTRATADOS</h5>

                        <!-- Services Box -->
                        <div class="border rounded p-3 mb-4">
                            <!-- Get recurring products and total (safe helper mirrors addendum) -->
                            <t t-set="recurring_lines" t-value="doc._get_recurring_lines_for_addendum()"/>
                            <t t-set="monthly_total" t-value="doc._get_addendum_monthly_total(recurring_lines)"/>

                            <!-- Products List -->
                            <t t-foreach="recurring_lines" t-as="line">
                                <div class="row mb-2">
                                    <div class="col-12">
                                        <span class="bg-light px-2 py-1">
                                            Plan: <t t-esc="line.name"/>  Cantidad: <t t-esc="line.product_uom_qty"/>
                                        </span>
                                    </div>
                                </div>
                            </t>
                        
                            <!-- Contract and Payment Info -->
                            <div class="row mt-3">
                                <div class="col-6">
                                    <span class="bg-light px-2 py-1">
                                        Plazo de Contrato: <t t-esc="doc.contract_term.name"/>
                                    </span>
                                </div>
                                <div class="col-6 text-right">
                                    <span class="bg-light px-2 py-1">
                                        Mensualidad: US$ <t t-esc="monthly_total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                    </span>
                                </div>
                            </div>
                        
                            <!-- Late Payment Notice -->
                            <div class="mt-3 px-2">
                                Cobro por morosidad en el pago - 5%
                            </div>
                        </div>
                    
                        <!-- Declaration Text -->
                        <div class="mt-4" style="font-size: 0.9em;">
                            Declaro que mi información personal es cierta y autorizo a las empresas a comprobar su autenticidad, previo a dar trámite a la solicitud de los servicios. 
                            Acepto que la documentación donde conste la información proporcionada para efectos de este contrato, será resguardada por la empresa. 
                            Doy fe de lo establecido en el presente formulario y anexos. Confirmo que he leído y entiendo el contrato y las condiciones de la contratación, 
                            las cuales fueron presentadas a mi persona por el personal de la empresa. Ratifico el contenido del mismo y firmo.
                        </div>
                        
                        <!-- Signature Section -->
                        <div class="mt-4 border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Vendedor</strong></p>
                                    <p style="color: white;">/sn2/</p> 
                                </div>
                                <div class="col-4"/>
                            </div>
                            
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.user_id.name"/>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h5 class="m-0">PAGARE SIN PROTESTO</h5>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-end">
                                    Por US$ <strong><t t-esc="doc.contract_value" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></strong>
                                </div>
                            </div>
                            <div class="mt-3 text-justify">
                                TAMANIQUE, 
                                <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> de 
                                <t t-esc="doc.date_order.year"/> 
                                PAGARE(mos) sin protesto en forma incondicional a la orden de REDES LITORALES S.A. DE C.V., en sus oficinas, 
                                el día <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> del año 
                                <t t-esc="doc.date_order.year"/> la cantidad de 
                                <span class="font-weight-bold">
                                    <t t-esc="doc.contract_value_amount_to_text()"/> 
                                    DE LOS ESTADOS UNIDOS DE AMÉRICA
                                </span>, 
                                más el interés convencional del UNO PUNTO CERO CERO por ciento mensual, calculados a partir de la fecha de suscripción 
                                del presente documento, pagaré(mos) además a partir de esta última fecha, intereses moratorios sobre el saldo de capital de mora.
                            </div>
                        
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2"/>
                                <div class="col-4"/>
                            </div>
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4">
                                </div>
                            </div>
                        </div>
                        <div style="page-break-before: always;"></div>
                        
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h4 class="m-0">TERMINOS</h4>
                                </div>
                            </div>
                        
                            <!-- Clauses -->
                            <div class="border rounded p-3 mb-4">
                                <!-- Get applicable clauses based on language preference -->
                                <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                <!-- Initialize index -->
                                <t t-set="index" t-value="0"/>
                                <!-- Clauses List -->
                                <t t-foreach="applicable_clauses" t-as="clause">
                                    <t t-set="index" t-value="index + 1"/>
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <span class="bg-light px-2 py-1">
                                                <t t-esc="index"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).name"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).clause"/>
                                            </span>
                                        </div>
                                    </div>
                                </t>
                            </div>

                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <h3>Resumen Amigable del Contrato de Servicios de Internet</h3>
                            <h4>(no forma parte del contrato - solo para información)</h4>
                    
                            <h5>Información del Cliente</h5>
                            <p><strong>Nombre:</strong> <t t-esc="doc.partner_id.name"/></p>
                            <p><strong>Dirección de Servicio:</strong> <t t-esc="doc.partner_shipping_id.street"/></p>
                            <p><strong>Contacto:</strong> <t t-esc="doc.partner_id.email"/>, <t t-esc="doc.partner_id.phone"/>, <t t-esc="doc.partner_id.whatsapp"/></p>

                            <h5>Condiciones</h5>
                            <p><strong>Duración del Contrato:</strong> <t t-esc="doc.contract_term.name"/></p>
                            <p><strong>Mensualidad:</strong> <t t-esc="monthly_total" t-options="{'widget': 'float', 'precision': 2}"/></p>
                            <p><strong>Cargo por Morosidad:</strong> 5%</p>

                            <h5>Derechos y Responsabilidades del Cliente</h5>
                            <ul>
                                <div>
                                    <!-- Get applicable clauses based on language preference -->
                                    <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                    <!-- Clauses List -->
                                    <t t-foreach="applicable_clauses" t-as="clause">
                                        <t t-set="index" t-value="index + 1"/>
                                        <div class="row mb-2">
                                            <div class="col-12">
                                                <span class="bg-light px-2 py-1">
                                                    <li><t t-esc="clause.with_context({'lang': doc.partner_id.lang}).friendly_clause"/></li>
                                                </span>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                             </ul>
                            </div>
                        </div> 
                    </div>
                    </t>
				</t>
			</t>
		</t>
    </template>
    
<!-- Template for Business Customers -->
    <template id="business_contract_template">
         <t t-call="web.html_container">
			<t t-foreach="docs" t-as="doc">
				<t t-call="web.basic_layout">
                    <!-- Set the language context for the entire report -->
                    <t t-set="lang" t-value="doc.partner_id.lang"/>
                    <t t-with="{'lang': lang}">
                    <!-- CONTAINER -->
					<div class="page" style="font-size: 12px">
					    
					    <t t-set="months" t-value="{                             '1': 'enero',                             '2': 'febrero',                             '3': 'marzo',                             '4': 'abril',                             '5': 'mayo',                             '6': 'junio',                             '7': 'julio',                             '8': 'agosto',                             '9': 'septiembre',                             '10': 'octubre',                             '11': 'noviembre',                             '12': 'diciembre'                         }"/>
					    
					    <t t-set="document_types" t-value="{                             'Factura': 'Factura Consumidor Final',                              'CCF': 'Comprobante de Crédito fiscal',                             'FSUJEx': 'Factura de sujeto excluido'                         }"/>
                        
                        <t t-set="tipo_fact" t-value="document_types.get(doc.partner_id.property_account_position_id.sv_document, '')"/>

                        <div class="row mb-4">
                            <div class="col-3">
                                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" style="max-height: 100px; margin-left: 2mm" alt="Company Logo"/>
                            </div>
                            <div class="col-5"/>
                            <div class="col-4 text-end">
                                <h5>
                                    <strong>Contrato No. </strong>
                                    <span t-esc="doc.cabal_sequence"/>
                                </h5>
                                <h5 class="mt-2">
                                    <strong>Código del cliente </strong>
                                    <span t-esc="doc.id "/>
                                </h5>
                            </div>
                        </div>

                        <!-- Header -->
                        <h5>INFORMACION DEL CLIENTE</h5>

                        <!-- Client Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Detalles del Cliente</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_id.name"/></div>
                                        <t t-if="tipo_fact == 'Factura Consumidor Final'">
                                            <div>DUI: <t t-esc="doc.partner_id.sv_dui"/></div>
                                        </t>
                                        <t t-else="">
                                            <div>NIT: <t t-esc="doc.partner_id.sv_nit"/></div>
                                            <div>NRC: <t t-esc="doc.partner_id.sv_nrc"/></div>
                                        </t>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Dirección de Servicio</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_shipping_id.street"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.country_id.name"/></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Billing Info Header -->
                        <h5>INFORMACION DE FACTURACIÓN</h5>

                        <!-- Billing Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Dirección de Facturación/Cobro</strong>
                                    <div class="mt-2">
                                        <div><t t-esc="doc.partner_invoice_id.street"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.country_id.name"/></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Contacto</strong>
                                    <div class="mt-2">
                                        <div>Correo Electronico: <span class="bg-light p-1"><t t-esc="doc.partner_id.email"/></span></div>
                                        <div>Telefono: <t t-esc="doc.partner_id.phone"/></div>
                                        <div>Whatsapp: <t t-esc="doc.partner_id.whatsapp"/></div>
                                        <div>Telefono movil: <t t-esc="doc.partner_id.mobile"/></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-1">
                                <div class="col-6">
                                    <div class="mt-3">
                                        <strong>Tipo de facturación </strong>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="mt-0">
                                        <span t-esc="tipo_fact"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Authorization Notice -->
                            <div class="mt-4 font-italic">
                                El cliente autoriza la entrega de su factura en formato electrónico por correo electronico, SMS o WhatsApp. Una copia de las condiciones de contratación serán enviadas por este mismo medio.
                            </div>

                        </div>
                        
                        <h5>SERVICIOS CONTRATADOS</h5>

                        <!-- Services Box -->
                        <div class="border rounded p-3 mb-4">
                            <!-- Get recurring products and total -->
                            <t t-set="recurring_lines" t-value="doc.order_line.filtered(lambda l: l.product_template_id and l.product_template_id.recurring_invoice)"/>
                            <t t-set="monthly_total" t-value="sum(recurring_lines.mapped(lambda l: l.price_unit * l.product_uom_qty))"/>                            
                            
                            <!-- Products List -->
                            <t t-foreach="recurring_lines" t-as="line">
                                <div class="row mb-2">
                                    <div class="col-12">
                                        <span class="bg-light px-2 py-1">
                                            Plan: <t t-esc="line.name"/>  Cantidad: <t t-esc="line.product_uom_qty"/>
                                        </span>
                                    </div>
                                </div>
                            </t>
                        
                            <!-- Contract and Payment Info -->
                            <div class="row mt-3">
                                <div class="col-6">
                                    <span class="bg-light px-2 py-1">
                                        Plazo de Contrato: <t t-esc="doc.contract_term.name"/>
                                    </span>
                                </div>
                                <div class="col-6 text-right">
                                    <span class="bg-light px-2 py-1">
                                        Mensualidad: US$ <t t-esc="monthly_total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                    </span>
                                </div>
                            </div>
                        
                            <!-- Late Payment Notice -->
                            <div class="mt-3 px-2">
                                Cobro por morosidad en el pago - 5%
                            </div>
                        </div>
                    
                        <!-- Declaration Text -->
                        <div class="mt-4" style="font-size: 0.9em;">
                            Declaro que mi información personal es cierta y autorizo a las empresas a comprobar su autenticidad, previo a dar trámite a la solicitud de los servicios. 
                            Acepto que la documentación donde conste la información proporcionada para efectos de este contrato, será resguardada por la empresa. 
                            Doy fe de lo establecido en el presente formulario y anexos. Confirmo que he leído y entiendo el contrato y las condiciones de la contratación, 
                            las cuales fueron presentadas a mi persona por el personal de la empresa. Ratifico el contenido del mismo y firmo.
                        </div>
                        
                        <!-- Signature Section -->
                        <div class="mt-4 border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Vendedor</strong></p>
                                    <p style="color: white;">/sn2/</p> 
                                </div>
                                <div class="col-4"/>
                            </div>
                            
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.user_id.name"/>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h5 class="m-0">PAGARE SIN PROTESTO</h5>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-end">
                                    Por US$ <strong><t t-esc="doc.contract_value" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></strong>
                                </div>
                            </div>
                            <div class="mt-3 text-justify">
                                TAMANIQUE, 
                                <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> de 
                                <t t-esc="doc.date_order.year"/> 
                                PAGARE(mos) sin protesto en forma incondicional a la orden de REDES LITORALES S.A. DE C.V., en sus oficinas, 
                                el día <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> del año 
                                <t t-esc="doc.date_order.year"/> la cantidad de 
                                <span class="font-weight-bold">
                                    <t t-esc="doc.contract_value_amount_to_text()"/> 
                                    DE LOS ESTADOS UNIDOS DE AMÉRICA
                                </span>, 
                                más el interés convencional del UNO PUNTO CERO CERO por ciento mensual, calculados a partir de la fecha de suscripción 
                                del presente documento, pagaré(mos) además a partir de esta última fecha, intereses moratorios sobre el saldo de capital de mora.
                            </div>
                        
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2"/>
                                <div class="col-4"/>
                            </div>
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4">
                                </div>
                            </div>
                        </div>
                        <div style="page-break-before: always;"></div>
                        
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h4 class="m-0">TERMINOS</h4>
                                </div>
                            </div>
                        
                            <!-- Clauses -->
                            <div class="border rounded p-3 mb-4">
                                <!-- Get applicable clauses based on language preference -->
                                <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                <!-- Initialize index -->
                                <t t-set="index" t-value="0"/>
                                <!-- Clauses List -->
                                <t t-foreach="applicable_clauses" t-as="clause">
                                    <t t-set="index" t-value="index + 1"/>
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <span class="bg-light px-2 py-1">
                                                <t t-esc="index"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).name"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).clause"/>
                                            </span>
                                        </div>
                                    </div>
                                </t>
                            </div>

                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <h3>Resumen Amigable del Contrato de Servicios de Internet</h3>
                            <h4>(no forma parte del contrato - solo para información)</h4>
                    
                            <h5>Información del Cliente</h5>
                            <p><strong>Nombre:</strong> <t t-esc="doc.partner_id.name"/></p>
                            <p><strong>Dirección de Servicio:</strong> <t t-esc="doc.partner_shipping_id.street"/></p>
                            <p><strong>Contacto:</strong> <t t-esc="doc.partner_id.email"/>, <t t-esc="doc.partner_id.phone"/>, <t t-esc="doc.partner_id.whatsapp"/></p>

                            <h5>Condiciones</h5>
                            <p><strong>Duración del Contrato:</strong> <t t-esc="doc.contract_term.name"/></p>
                            <p><strong>Mensualidad:</strong> <t t-esc="monthly_total" t-options="{'widget': 'float', 'precision': 2}"/></p>
                            <p><strong>Cargo por Morosidad:</strong> 5%</p>

                            <h5>Derechos y Responsabilidades del Cliente</h5>
                            <ul>
                                <div>
                                    <!-- Get applicable clauses based on language preference -->
                                    <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                    <!-- Clauses List -->
                                    <t t-foreach="applicable_clauses" t-as="clause">
                                        <t t-set="index" t-value="index + 1"/>
                                        <div class="row mb-2">
                                            <div class="col-12">
                                                <span class="bg-light px-2 py-1">
                                                    <li><t t-esc="clause.with_context({'lang': doc.partner_id.lang}).friendly_clause"/></li>
                                                </span>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                             </ul>
                            </div>
                        </div> 
                    </div>
                    </t>
				</t>
			</t>
		</t>
    </template>
    
<!-- Template for Rental Customers -->
    <template id="rental_contract_template">
        <t t-call="web.html_container">
			<t t-foreach="docs" t-as="doc">
				<t t-call="web.basic_layout">
                    <!-- Set the language context for the entire report -->
                    <t t-set="lang" t-value="doc.partner_id.lang"/>
                    <t t-with="{'lang': lang}">
                    <!-- CONTAINER -->
					<div class="page" style="font-size: 12px">
					    
					    <t t-set="months" t-value="{                             '1': 'enero',                             '2': 'febrero',                             '3': 'marzo',                             '4': 'abril',                             '5': 'mayo',                             '6': 'junio',                             '7': 'julio',                             '8': 'agosto',                             '9': 'septiembre',                             '10': 'octubre',                             '11': 'noviembre',                             '12': 'diciembre'                         }"/>
					    
					    <t t-set="document_types" t-value="{                             'Factura': 'Factura Consumidor Final',                              'CCF': 'Comprobante de Crédito fiscal',                             'FSUJEx': 'Factura de sujeto excluido'                         }"/>
                        
                        <t t-set="tipo_fact" t-value="document_types.get(doc.partner_id.property_account_position_id.sv_document, '')"/>

                        <div class="row mb-4">
                            <div class="col-3">
                                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" style="max-height: 100px; margin-left: 2mm" alt="Company Logo"/>
                            </div>
                            <div class="col-5"/>
                            <div class="col-4 text-end">
                                <h5>
                                    <strong>Contrato No. </strong>
                                    <span t-esc="doc.cabal_sequence"/>
                                </h5>
                                <h5 class="mt-2">
                                    <strong>Código del cliente </strong>
                                    <span t-esc="doc.id "/>
                                </h5>
                            </div>
                        </div>

                        <!-- Header -->
                        <h5>INFORMACION DEL CLIENTE</h5>

                        <!-- Client Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Detalles del Cliente</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_id.name"/></div>
                                        <t t-if="tipo_fact == 'Factura Consumidor Final'">
                                            <div>DUI: <t t-esc="doc.partner_id.sv_dui"/></div>
                                        </t>
                                        <t t-else="">
                                            <div>NIT: <t t-esc="doc.partner_id.sv_nit"/></div>
                                            <div>NRC: <t t-esc="doc.partner_id.sv_nrc"/></div>
                                        </t>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Dirección de Servicio</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_shipping_id.street"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.country_id.name"/></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Billing Info Header -->
                        <h5>INFORMACION DE FACTURACIÓN</h5>

                        <!-- Billing Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Dirección de Facturación/Cobro</strong>
                                    <div class="mt-2">
                                        <div><t t-esc="doc.partner_invoice_id.street"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.country_id.name"/></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Contacto</strong>
                                    <div class="mt-2">
                                        <div>Correo Electronico: <span class="bg-light p-1"><t t-esc="doc.partner_id.email"/></span></div>
                                        <div>Telefono: <t t-esc="doc.partner_id.phone"/></div>
                                        <div>Whatsapp: <t t-esc="doc.partner_id.whatsapp"/></div>
                                        <div>Telefono movil: <t t-esc="doc.partner_id.mobile"/></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-1">
                                <div class="col-6">
                                    <div class="mt-3">
                                        <strong>Tipo de facturación </strong>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="mt-0">
                                        <span t-esc="tipo_fact"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Authorization Notice -->
                            <div class="mt-4 font-italic">
                                El cliente autoriza la entrega de su factura en formato electrónico por correo electronico, SMS o WhatsApp. Una copia de las condiciones de contratación serán enviadas por este mismo medio.
                            </div>

                        </div>
                        
                        <h5>SERVICIOS CONTRATADOS</h5>

                        <!-- Services Box -->
                        <div class="border rounded p-3 mb-4">
                            <!-- Get recurring products and total -->
                            <t t-set="recurring_lines" t-value="doc.order_line.filtered(lambda l: l.product_template_id and l.product_template_id.recurring_invoice)"/>
                            <t t-set="monthly_total" t-value="sum(recurring_lines.mapped(lambda l: l.price_unit * l.product_uom_qty))"/>                            
                            
                            <!-- Products List -->
                            <t t-foreach="recurring_lines" t-as="line">
                                <div class="row mb-2">
                                    <div class="col-12">
                                        <span class="bg-light px-2 py-1">
                                            Plan: <t t-esc="line.name"/>  Cantidad: <t t-esc="line.product_uom_qty"/>
                                        </span>
                                    </div>
                                </div>
                            </t>
                        
                            <!-- Contract and Payment Info -->
                            <div class="row mt-3">
                                <div class="col-6">
                                    <span class="bg-light px-2 py-1">
                                        Plazo de Contrato: <t t-esc="doc.contract_term.name"/>
                                    </span>
                                </div>
                                <div class="col-6 text-right">
                                    <span class="bg-light px-2 py-1">
                                        Mensualidad: US$ <t t-esc="monthly_total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                    </span>
                                </div>
                            </div>
                        
                            <!-- Late Payment Notice -->
                            <div class="mt-3 px-2">
                                Cobro por morosidad en el pago - 5%
                            </div>
                        </div>
                    
                        <!-- Declaration Text -->
                        <div class="mt-4" style="font-size: 0.9em;">
                            Declaro que mi información personal es cierta y autorizo a las empresas a comprobar su autenticidad, previo a dar trámite a la solicitud de los servicios. 
                            Acepto que la documentación donde conste la información proporcionada para efectos de este contrato, será resguardada por la empresa. 
                            Doy fe de lo establecido en el presente formulario y anexos. Confirmo que he leído y entiendo el contrato y las condiciones de la contratación, 
                            las cuales fueron presentadas a mi persona por el personal de la empresa. Ratifico el contenido del mismo y firmo.
                        </div>
                        
                        <!-- Signature Section -->
                        <div class="mt-4 border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Vendedor</strong></p>
                                    <p style="color: white;">/sn2/</p> 
                                </div>
                                <div class="col-4"/>
                            </div>
                            
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.user_id.name"/>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h5 class="m-0">PAGARE SIN PROTESTO</h5>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-end">
                                    Por US$ <strong><t t-esc="doc.contract_value" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></strong>
                                </div>
                            </div>
                            <div class="mt-3 text-justify">
                                TAMANIQUE, 
                                <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> de 
                                <t t-esc="doc.date_order.year"/> 
                                PAGARE(mos) sin protesto en forma incondicional a la orden de REDES LITORALES S.A. DE C.V., en sus oficinas, 
                                el día <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> del año 
                                <t t-esc="doc.date_order.year"/> la cantidad de 
                                <span class="font-weight-bold">
                                    <t t-esc="doc.contract_value_amount_to_text()"/> 
                                    DE LOS ESTADOS UNIDOS DE AMÉRICA
                                </span>, 
                                más el interés convencional del UNO PUNTO CERO CERO por ciento mensual, calculados a partir de la fecha de suscripción 
                                del presente documento, pagaré(mos) además a partir de esta última fecha, intereses moratorios sobre el saldo de capital de mora.
                            </div>
                        
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2"/>
                                <div class="col-4"/>
                            </div>
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4">
                                </div>
                            </div>
                        </div>
                        <div style="page-break-before: always;"></div>
                        
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h4 class="m-0">TERMINOS</h4>
                                </div>
                            </div>
                        
                            <!-- Clauses -->
                            <div class="border rounded p-3 mb-4">
                                <!-- Get applicable clauses based on language preference -->
                                <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                <!-- Initialize index -->
                                <t t-set="index" t-value="0"/>
                                <!-- Clauses List -->
                                <t t-foreach="applicable_clauses" t-as="clause">
                                    <t t-set="index" t-value="index + 1"/>
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <span class="bg-light px-2 py-1">
                                                <t t-esc="index"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).name"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).clause"/>
                                            </span>
                                        </div>
                                    </div>
                                </t>
                            </div>

                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <h3>Resumen Amigable del Contrato de Servicios de Internet</h3>
                            <h4>(no forma parte del contrato - solo para información)</h4>
                    
                            <h5>Información del Cliente</h5>
                            <p><strong>Nombre:</strong> <t t-esc="doc.partner_id.name"/></p>
                            <p><strong>Dirección de Servicio:</strong> <t t-esc="doc.partner_shipping_id.street"/></p>
                            <p><strong>Contacto:</strong> <t t-esc="doc.partner_id.email"/>, <t t-esc="doc.partner_id.phone"/>, <t t-esc="doc.partner_id.whatsapp"/></p>

                            <h5>Condiciones</h5>
                            <p><strong>Duración del Contrato:</strong> <t t-esc="doc.contract_term.name"/></p>
                            <p><strong>Mensualidad:</strong> <t t-esc="monthly_total" t-options="{'widget': 'float', 'precision': 2}"/></p>
                            <p><strong>Cargo por Morosidad:</strong> 5%</p>

                            <h5>Derechos y Responsabilidades del Cliente</h5>
                            <ul>
                                <div>
                                    <!-- Get applicable clauses based on language preference -->
                                    <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                    <!-- Clauses List -->
                                    <t t-foreach="applicable_clauses" t-as="clause">
                                        <t t-set="index" t-value="index + 1"/>
                                        <div class="row mb-2">
                                            <div class="col-12">
                                                <span class="bg-light px-2 py-1">
                                                    <li><t t-esc="clause.with_context({'lang': doc.partner_id.lang}).friendly_clause"/></li>
                                                </span>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                             </ul>
                            </div>
                        </div> 
                    </div>
                    </t>
				</t>
			</t>
		</t>
    </template>
    
<!-- Template for IPTV Customers -->
    <template id="iptv_contract_template">
        <t t-call="web.html_container">
			<t t-foreach="docs" t-as="doc">
				<t t-call="web.basic_layout">
                    <!-- Set the language context for the entire report -->
                    <t t-set="lang" t-value="doc.partner_id.lang"/>
                    <t t-with="{'lang': lang}">
                    <!-- CONTAINER -->
					<div class="page" style="font-size: 12px">
					    
					    <t t-set="months" t-value="{                             '1': 'enero',                             '2': 'febrero',                             '3': 'marzo',                             '4': 'abril',                             '5': 'mayo',                             '6': 'junio',                             '7': 'julio',                             '8': 'agosto',                             '9': 'septiembre',                             '10': 'octubre',                             '11': 'noviembre',                             '12': 'diciembre'                         }"/>
					    
					    <t t-set="document_types" t-value="{                             'Factura': 'Factura Consumidor Final',                              'CCF': 'Comprobante de Crédito fiscal',                             'FSUJEx': 'Factura de sujeto excluido'                         }"/>
                        
                        <t t-set="tipo_fact" t-value="document_types.get(doc.partner_id.property_account_position_id.sv_document, '')"/>

                        <div class="row mb-4">
                            <div class="col-3">
                                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" style="max-height: 100px; margin-left: 2mm" alt="Company Logo"/>
                            </div>
                            <div class="col-5"/>
                            <div class="col-4 text-end">
                                <h5>
                                    <strong>Contrato No. </strong>
                                    <span t-esc="doc.cabal_sequence"/>
                                </h5>
                                <h5 class="mt-2">
                                    <strong>Código del cliente </strong>
                                    <span t-esc="doc.id "/>
                                </h5>
                            </div>
                        </div>

                        <!-- Header -->
                        <h5>INFORMACION DEL CLIENTE</h5>

                        <!-- Client Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Detalles del Cliente</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_id.name"/></div>
                                        <t t-if="tipo_fact == 'Factura Consumidor Final'">
                                            <div>DUI: <t t-esc="doc.partner_id.sv_dui"/></div>
                                        </t>
                                        <t t-else="">
                                            <div>NIT: <t t-esc="doc.partner_id.sv_nit"/></div>
                                            <div>NRC: <t t-esc="doc.partner_id.sv_nrc"/></div>
                                        </t>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Dirección de Servicio</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_shipping_id.street"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.country_id.name"/></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Billing Info Header -->
                        <h5>INFORMACION DE FACTURACIÓN</h5>

                        <!-- Billing Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Dirección de Facturación/Cobro</strong>
                                    <div class="mt-2">
                                        <div><t t-esc="doc.partner_invoice_id.street"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.country_id.name"/></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Contacto</strong>
                                    <div class="mt-2">
                                        <div>Correo Electronico: <span class="bg-light p-1"><t t-esc="doc.partner_id.email"/></span></div>
                                        <div>Telefono: <t t-esc="doc.partner_id.phone"/></div>
                                        <div>Whatsapp: <t t-esc="doc.partner_id.whatsapp"/></div>
                                        <div>Telefono movil: <t t-esc="doc.partner_id.mobile"/></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-1">
                                <div class="col-6">
                                    <div class="mt-3">
                                        <strong>Tipo de facturación </strong>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="mt-0">
                                        <span t-esc="tipo_fact"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Authorization Notice -->
                            <div class="mt-4 font-italic">
                                El cliente autoriza la entrega de su factura en formato electrónico por correo electronico, SMS o WhatsApp. Una copia de las condiciones de contratación serán enviadas por este mismo medio.
                            </div>

                        </div>
                        
                        <h5>SERVICIOS CONTRATADOS</h5>

                        <!-- Services Box -->
                        <div class="border rounded p-3 mb-4">
                            <!-- Get recurring products and total (safe helper mirrors addendum) -->
                            <t t-set="recurring_lines" t-value="doc._get_recurring_lines_for_addendum()"/>
                            <t t-set="monthly_total" t-value="doc._get_addendum_monthly_total(recurring_lines)"/>                            
                            
                            <!-- Products List -->
                            <t t-foreach="recurring_lines" t-as="line">
                                <div class="row mb-2">
                                    <div class="col-12">
                                        <span class="bg-light px-2 py-1">
                                            Plan: <t t-esc="line.name"/>  Cantidad: <t t-esc="line.product_uom_qty"/>
                                        </span>
                                    </div>
                                </div>
                            </t>
                        
                            <!-- Contract and Payment Info -->
                            <div class="row mt-3">
                                <div class="col-6">
                                    <span class="bg-light px-2 py-1">
                                        Plazo de Contrato: <t t-esc="doc.contract_term.name"/>
                                    </span>
                                </div>
                                <div class="col-6 text-right">
                                    <span class="bg-light px-2 py-1">
                                        Mensualidad: US$ <t t-esc="monthly_total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                    </span>
                                </div>
                            </div>
                        
                            <!-- Late Payment Notice -->
                            <div class="mt-3 px-2">
                                Cobro por morosidad en el pago - 5%
                            </div>
                        </div>
                    
                        <!-- Declaration Text -->
                        <div class="mt-4" style="font-size: 0.9em;">
                            Declaro que mi información personal es cierta y autorizo a las empresas a comprobar su autenticidad, previo a dar trámite a la solicitud de los servicios. 
                            Acepto que la documentación donde conste la información proporcionada para efectos de este contrato, será resguardada por la empresa. 
                            Doy fe de lo establecido en el presente formulario y anexos. Confirmo que he leído y entiendo el contrato y las condiciones de la contratación, 
                            las cuales fueron presentadas a mi persona por el personal de la empresa. Ratifico el contenido del mismo y firmo.
                        </div>
                        
                        <!-- Signature Section -->
                        <div class="mt-4 border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Vendedor</strong></p>
                                    <p style="color: white;">/sn2/</p> 
                                </div>
                                <div class="col-4"/>
                            </div>
                            
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.user_id.name"/>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h5 class="m-0">PAGARE SIN PROTESTO</h5>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-end">
                                    Por US$ <strong><t t-esc="doc.contract_value" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></strong>
                                </div>
                            </div>
                            <div class="mt-3 text-justify">
                                TAMANIQUE, 
                                <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> de 
                                <t t-esc="doc.date_order.year"/> 
                                PAGARE(mos) sin protesto en forma incondicional a la orden de REDES LITORALES S.A. DE C.V., en sus oficinas, 
                                el día <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> del año 
                                <t t-esc="doc.date_order.year"/> la cantidad de 
                                <span class="font-weight-bold">
                                    <t t-esc="doc.contract_value_amount_to_text()"/> 
                                    DE LOS ESTADOS UNIDOS DE AMÉRICA
                                </span>, 
                                más el interés convencional del UNO PUNTO CERO CERO por ciento mensual, calculados a partir de la fecha de suscripción 
                                del presente documento, pagaré(mos) además a partir de esta última fecha, intereses moratorios sobre el saldo de capital de mora.
                            </div>
                        
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2"/>
                                <div class="col-4"/>
                            </div>
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4">
                                </div>
                            </div>
                        </div>
                        <div style="page-break-before: always;"></div>
                        
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h4 class="m-0">TERMINOS</h4>
                                </div>
                            </div>
                        
                            <!-- Clauses -->
                            <div class="border rounded p-3 mb-4">
                                <!-- Get applicable clauses based on language preference -->
                                <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                <!-- Initialize index -->
                                <t t-set="index" t-value="0"/>
                                <!-- Clauses List -->
                                <t t-foreach="applicable_clauses" t-as="clause">
                                    <t t-set="index" t-value="index + 1"/>
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <span class="bg-light px-2 py-1">
                                                <t t-esc="index"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).name"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).clause"/>
                                            </span>
                                        </div>
                                    </div>
                                </t>
                            </div>

                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <h3>Resumen Amigable del Contrato de Servicios de Internet</h3>
                            <h4>(no forma parte del contrato - solo para información)</h4>
                    
                            <h5>Información del Cliente</h5>
                            <p><strong>Nombre:</strong> <t t-esc="doc.partner_id.name"/></p>
                            <p><strong>Dirección de Servicio:</strong> <t t-esc="doc.partner_shipping_id.street"/></p>
                            <p><strong>Contacto:</strong> <t t-esc="doc.partner_id.email"/>, <t t-esc="doc.partner_id.phone"/>, <t t-esc="doc.partner_id.whatsapp"/></p>

                            <h5>Condiciones</h5>
                            <p><strong>Duración del Contrato:</strong> <t t-esc="doc.contract_term.name"/></p>
                            <p><strong>Mensualidad:</strong> <t t-esc="monthly_total" t-options="{'widget': 'float', 'precision': 2}"/></p>
                            <p><strong>Cargo por Morosidad:</strong> 5%</p>

                            <h5>Derechos y Responsabilidades del Cliente</h5>
                            <ul>
                                <div>
                                    <!-- Get applicable clauses based on language preference -->
                                    <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                    <!-- Clauses List -->
                                    <t t-foreach="applicable_clauses" t-as="clause">
                                        <t t-set="index" t-value="index + 1"/>
                                        <div class="row mb-2">
                                            <div class="col-12">
                                                <span class="bg-light px-2 py-1">
                                                    <li><t t-esc="clause.with_context({'lang': doc.partner_id.lang}).friendly_clause"/></li>
                                                </span>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                             </ul>
                            </div>
                        </div> 
                    </div>
                    </t>
				</t>
			</t>
		</t>
    </template>    
    
<!-- Template for Hotel Customers -->
    <template id="hotel_contract_template">
         <t t-call="web.html_container">
			<t t-foreach="docs" t-as="doc">
				<t t-call="web.basic_layout">
                    <!-- Set the language context for the entire report -->
                    <t t-set="lang" t-value="doc.partner_id.lang"/>
                    <t t-with="{'lang': lang}">
                    <!-- CONTAINER -->
					<div class="page" style="font-size: 12px">
					    
					    <t t-set="months" t-value="{                             '1': 'enero',                             '2': 'febrero',                             '3': 'marzo',                             '4': 'abril',                             '5': 'mayo',                             '6': 'junio',                             '7': 'julio',                             '8': 'agosto',                             '9': 'septiembre',                             '10': 'octubre',                             '11': 'noviembre',                             '12': 'diciembre'                         }"/>
					    
					    <t t-set="document_types" t-value="{                             'Factura': 'Factura Consumidor Final',                              'CCF': 'Comprobante de Crédito fiscal',                             'FSUJEx': 'Factura de sujeto excluido'                         }"/>
                        
                        <t t-set="tipo_fact" t-value="document_types.get(doc.partner_id.property_account_position_id.sv_document, '')"/>

                        <div class="row mb-4">
                            <div class="col-3">
                                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" style="max-height: 100px; margin-left: 2mm" alt="Company Logo"/>
                            </div>
                            <div class="col-5"/>
                            <div class="col-4 text-end">
                                <h5>
                                    <strong>Contrato No. </strong>
                                    <span t-esc="doc.cabal_sequence"/>
                                </h5>
                                <h5 class="mt-2">
                                    <strong>Código del cliente </strong>
                                    <span t-esc="doc.id "/>
                                </h5>
                            </div>
                        </div>

                        <!-- Header -->
                        <h5>INFORMACION DEL CLIENTE</h5>

                        <!-- Client Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Detalles del Cliente</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_id.name"/></div>
                                        <t t-if="tipo_fact == 'Factura Consumidor Final'">
                                            <div>DUI: <t t-esc="doc.partner_id.sv_dui"/></div>
                                        </t>
                                        <t t-else="">
                                            <div>NIT: <t t-esc="doc.partner_id.sv_nit"/></div>
                                            <div>NRC: <t t-esc="doc.partner_id.sv_nrc"/></div>
                                        </t>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Dirección de Servicio</strong>
                                    <div class="mt-2">
                                        <div class="bg-light"><t t-esc="doc.partner_shipping_id.street"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_shipping_id.country_id.name"/></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Billing Info Header -->
                        <h5>INFORMACION DE FACTURACIÓN</h5>

                        <!-- Billing Info Box -->
                        <div class="border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <strong>Dirección de Facturación/Cobro</strong>
                                    <div class="mt-2">
                                        <div><t t-esc="doc.partner_invoice_id.street"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.municipio_dte_sv.name"/></div>
                                        <div><t t-esc="doc.partner_invoice_id.country_id.name"/></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <strong>Contacto</strong>
                                    <div class="mt-2">
                                        <div>Correo Electronico: <span class="bg-light p-1"><t t-esc="doc.partner_id.email"/></span></div>
                                        <div>Telefono: <t t-esc="doc.partner_id.phone"/></div>
                                        <div>Whatsapp: <t t-esc="doc.partner_id.whatsapp"/></div>
                                        <div>Telefono movil: <t t-esc="doc.partner_id.mobile"/></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-1">
                                <div class="col-6">
                                    <div class="mt-3">
                                        <strong>Tipo de facturación </strong>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="mt-0">
                                        <span t-esc="tipo_fact"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Authorization Notice -->
                            <div class="mt-4 font-italic">
                                El cliente autoriza la entrega de su factura en formato electrónico por correo electronico, SMS o WhatsApp. Una copia de las condiciones de contratación serán enviadas por este mismo medio.
                            </div>

                        </div>
                        
                        <h5>SERVICIOS CONTRATADOS</h5>

                        <!-- Services Box -->
                        <div class="border rounded p-3 mb-4">
                            <!-- Get recurring products and total (align with base helpers) -->
                            <t t-set="recurring_lines" t-value="doc._get_recurring_lines_for_addendum()"/>
                            <t t-set="monthly_total" t-value="doc._get_addendum_monthly_total(recurring_lines)"/>                            
                            
                            <!-- Products List -->
                            <t t-foreach="recurring_lines" t-as="line">
                                <div class="row mb-2">
                                    <div class="col-12">
                                        <span class="bg-light px-2 py-1">
                                            Plan: <t t-esc="line.name"/>  Cantidad: <t t-esc="line.product_uom_qty"/>
                                        </span>
                                    </div>
                                </div>
                            </t>
                        
                            <!-- Contract and Payment Info -->
                            <div class="row mt-3">
                                <div class="col-6">
                                    <span class="bg-light px-2 py-1">
                                        Plazo de Contrato: <t t-esc="doc.contract_term.name"/>
                                    </span>
                                </div>
                                <div class="col-6 text-right">
                                    <span class="bg-light px-2 py-1">
                                        Mensualidad: US$ <t t-esc="monthly_total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                    </span>
                                </div>
                            </div>
                        
                            <!-- Late Payment Notice -->
                            <div class="mt-3 px-2">
                                Cobro por morosidad en el pago - 5%
                            </div>
                        </div>
                    
                        <!-- Declaration Text -->
                        <div class="mt-4" style="font-size: 0.9em;">
                            Declaro que mi información personal es cierta y autorizo a las empresas a comprobar su autenticidad, previo a dar trámite a la solicitud de los servicios. 
                            Acepto que la documentación donde conste la información proporcionada para efectos de este contrato, será resguardada por la empresa. 
                            Doy fe de lo establecido en el presente formulario y anexos. Confirmo que he leído y entiendo el contrato y las condiciones de la contratación, 
                            las cuales fueron presentadas a mi persona por el personal de la empresa. Ratifico el contenido del mismo y firmo.
                        </div>

                        <!-- Signature Section -->
                        <div class="mt-4 border rounded p-3 mb-4">
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Vendedor</strong></p>
                                    <p style="color: white;">/sn2/</p> 
                                </div>
                                <div class="col-4"/>
                            </div>
                            
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.user_id.name"/>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h5 class="m-0">PAGARE SIN PROTESTO</h5>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4 text-end">
                                    Por US$ <strong><t t-esc="doc.contract_value" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></strong>
                                </div>
                            </div>
                            <div class="mt-3 text-justify">
                                TAMANIQUE, 
                                <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> de 
                                <t t-esc="doc.date_order.year"/> 
                                PAGARE(mos) sin protesto en forma incondicional a la orden de REDES LITORALES S.A. DE C.V., en sus oficinas, 
                                el día <t t-esc="doc.date_order.day"/> de 
                                <t t-esc="months[str(doc.date_order.month)]"/> del año 
                                <t t-esc="doc.date_order.year"/> la cantidad de 
                                <span class="font-weight-bold">
                                    <t t-esc="doc.contract_value_amount_to_text()"/> 
                                    DE LOS ESTADOS UNIDOS DE AMÉRICA
                                </span>, 
                                más el interés convencional del UNO PUNTO CERO CERO por ciento mensual, calculados a partir de la fecha de suscripción 
                                del presente documento, pagaré(mos) además a partir de esta última fecha, intereses moratorios sobre el saldo de capital de mora.
                            </div>
                        
                            <div class="row">
                                <div class="col-2 text-center">
                                    <p style="font-size: 13px"><strong>Firma del Cliente</strong></p>
                                    <p style="color: white;">/sn1/</p> 
                                </div>
                                <div class="col-4"/>
                                <div class="col-2"/>
                                <div class="col-4"/>
                            </div>
                            <div class="row">
                                <div class="col-2"/>
                                <div class="col-4 text-start">
                                    <div class="mt-4 border-top pt-2">
                                        <t t-esc="doc.partner_id.name"/>
                                    </div>
                                </div>
                                <div class="col-2"/>
                                <div class="col-4">
                                </div>
                            </div>
                        </div>
                        <div style="page-break-before: always;"></div>
                        
                        <div class="border rounded p-4 mt-4">
                            <div class="row">
                                <div class="col-6">
                                    <h4 class="m-0">TERMINOS</h4>
                                </div>
                            </div>
                        
                            <!-- Clauses -->
                            <div class="border rounded p-3 mb-4">
                                <!-- Get applicable clauses based on language preference -->
                                <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                <!-- Initialize index -->
                                <t t-set="index" t-value="0"/>
                                <!-- Clauses List -->
                                <t t-foreach="applicable_clauses" t-as="clause">
                                    <t t-set="index" t-value="index + 1"/>
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <span class="bg-light px-2 py-1">
                                                <t t-esc="index"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).name"/>. <t t-esc="clause.with_context({'lang': doc.partner_id.lang}).clause"/>
                                            </span>
                                        </div>
                                    </div>
                                </t>
                            </div>

                        <div style="page-break-before: always;"></div>
                        <div class="border rounded p-4 mt-4">
                            <h3>Resumen Amigable del Contrato de Servicios de Internet</h3>
                            <h4>(no forma parte del contrato - solo para información)</h4>
                    
                            <h5>Información del Cliente</h5>
                            <p><strong>Nombre:</strong> <t t-esc="doc.partner_id.name"/></p>
                            <p><strong>Dirección de Servicio:</strong> <t t-esc="doc.partner_shipping_id.street"/></p>
                            <p><strong>Contacto:</strong> <t t-esc="doc.partner_id.email"/>, <t t-esc="doc.partner_id.phone"/>, <t t-esc="doc.partner_id.whatsapp"/></p>

                            <h5>Condiciones</h5>
                            <p><strong>Duración del Contrato:</strong> <t t-esc="doc.contract_term.name"/></p>
                            <p><strong>Mensualidad:</strong> <t t-esc="monthly_total" t-options="{'widget': 'float', 'precision': 2}"/></p>
                            <p><strong>Cargo por Morosidad:</strong> 5%</p>

                            <h5>Derechos y Responsabilidades del Cliente</h5>
                            <ul>
                                <div>
                                    <!-- Get applicable clauses based on language preference -->
                                    <t t-set="applicable_clauses" t-value="doc.clause_ids.filtered(lambda c: c.active)"/>    
                                    <!-- Clauses List -->
                                    <t t-foreach="applicable_clauses" t-as="clause">
                                        <t t-set="index" t-value="index + 1"/>
                                        <div class="row mb-2">
                                            <div class="col-12">
                                                <span class="bg-light px-2 py-1">
                                                    <li><t t-esc="clause.with_context({'lang': doc.partner_id.lang}).friendly_clause"/></li>
                                                </span>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                             </ul>
                            </div>
                        </div> 
                    </div>
                    </t>
				</t>
			</t>
		</t>
    </template>    




</odoo>